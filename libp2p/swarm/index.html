<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="High level manager of the network."><meta name="keywords" content="rust, rustlang, rust-lang, swarm"><title>libp2p::swarm - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="../../crates.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" href="https://libp2p.io/img/favicon.png"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../libp2p/index.html"><div class="logo-container"><img src="https://libp2p.io/img/logo_small.png" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../libp2p/index.html"><div class="logo-container">
                    <img src="https://libp2p.io/img/logo_small.png" alt="logo"></div></a><h2 class="location"><a href="#">Crate swarm</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.45.1</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Crate <a href="../index.html">libp2p</a>::<wbr><a class="mod" href="#">swarm</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/libp2p_swarm/lib.rs.html#21-2517">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>High level manager of the network.</p>
<p>A <a href="../struct.Swarm.html" title="Swarm"><code>Swarm</code></a> contains the state of the network as a whole. The entire
behaviour of a libp2p network can be controlled through the <code>Swarm</code>.
The <code>Swarm</code> struct contains all active and pending connections to
remotes and manages the state of all the substreams that have been
opened, and all the upgrades that were built upon these substreams.</p>
<h2 id="initializing-a-swarm"><a href="#initializing-a-swarm">Initializing a Swarm</a></h2>
<p>Creating a <code>Swarm</code> requires three things:</p>
<ol>
<li>A network identity of the local node in form of a <a href="../struct.PeerId.html" title="PeerId"><code>PeerId</code></a>.</li>
<li>An implementation of the <a href="../trait.Transport.html" title="Transport"><code>Transport</code></a> trait. This is the type that
will be used in order to reach nodes on the network based on their
address. See the <code>transport</code> module for more information.</li>
<li>An implementation of the <a href="trait.NetworkBehaviour.html" title="NetworkBehaviour"><code>NetworkBehaviour</code></a> trait. This is a state
machine that defines how the swarm should behave once it is connected
to a node.</li>
</ol>
<h2 id="network-behaviour"><a href="#network-behaviour">Network Behaviour</a></h2>
<p>The <a href="trait.NetworkBehaviour.html" title="NetworkBehaviour"><code>NetworkBehaviour</code></a> trait is implemented on types that indicate to
the swarm how it should behave. This includes which protocols are supported
and which nodes to try to connect to. It is the <code>NetworkBehaviour</code> that
controls what happens on the network. Multiple types that implement
<code>NetworkBehaviour</code> can be composed into a single behaviour.</p>
<h2 id="protocols-handler"><a href="#protocols-handler">Protocols Handler</a></h2>
<p>The <a href="trait.ConnectionHandler.html" title="ConnectionHandler"><code>ConnectionHandler</code></a> trait defines how each active connection to a
remote should behave: how to handle incoming substreams, which protocols
are supported, when to open a new outbound substream, etc.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="behaviour/index.html" title="libp2p::swarm::behaviour mod">behaviour</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="dial_opts/index.html" title="libp2p::swarm::dial_opts mod">dial_opts</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="handler/index.html" title="libp2p::swarm::handler mod">handler</a></div><div class="item-right docblock-short">Once a connection to a remote peer is established, a <a href="trait.ConnectionHandler.html" title="ConnectionHandler"><code>ConnectionHandler</code></a> negotiates
and handles one or more specific protocols on the connection.</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AddressRecord.html" title="libp2p::swarm::AddressRecord struct">AddressRecord</a></div><div class="item-right docblock-short">An record in a prioritised list of addresses.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ConnectionCounters.html" title="libp2p::swarm::ConnectionCounters struct">ConnectionCounters</a></div><div class="item-right docblock-short">Network connection information.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ConnectionHandlerSelect.html" title="libp2p::swarm::ConnectionHandlerSelect struct">ConnectionHandlerSelect</a></div><div class="item-right docblock-short">Implementation of <a href="trait.ConnectionHandler.html" title="ConnectionHandler"><code>ConnectionHandler</code></a> that combines two protocols into one.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ConnectionLimit.html" title="libp2p::swarm::ConnectionLimit struct">ConnectionLimit</a></div><div class="item-right docblock-short">Information about a connection limit.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ConnectionLimits.html" title="libp2p::swarm::ConnectionLimits struct">ConnectionLimits</a></div><div class="item-right docblock-short">The configurable connection limits.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DummyBehaviour.html" title="libp2p::swarm::DummyBehaviour struct">DummyBehaviour</a></div><div class="item-right docblock-short">Dummy implementation of <a href="trait.NetworkBehaviour.html" title="NetworkBehaviour"><code>NetworkBehaviour</code></a> that doesn’t do anything.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.IntoConnectionHandlerSelect.html" title="libp2p::swarm::IntoConnectionHandlerSelect struct">IntoConnectionHandlerSelect</a></div><div class="item-right docblock-short">Implementation of <code>IntoConnectionHandler</code> that combines two protocols into one.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NetworkInfo.html" title="libp2p::swarm::NetworkInfo struct">NetworkInfo</a></div><div class="item-right docblock-short">Information about the connections obtained by <a href="../struct.Swarm.html#method.network_info" title="Swarm::network_info()"><code>Swarm::network_info()</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.OneShotHandler.html" title="libp2p::swarm::OneShotHandler struct">OneShotHandler</a></div><div class="item-right docblock-short">A <a href="trait.ConnectionHandler.html" title="ConnectionHandler"><code>ConnectionHandler</code></a> that opens a new substream for each request.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.OneShotHandlerConfig.html" title="libp2p::swarm::OneShotHandlerConfig struct">OneShotHandlerConfig</a></div><div class="item-right docblock-short">Configuration parameters for the <code>OneShotHandler</code></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SubstreamProtocol.html" title="libp2p::swarm::SubstreamProtocol struct">SubstreamProtocol</a></div><div class="item-right docblock-short">Configuration of inbound or outbound substream protocol(s)
for a <a href="trait.ConnectionHandler.html" title="ConnectionHandler"><code>ConnectionHandler</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Swarm.html" title="libp2p::swarm::Swarm struct">Swarm</a></div><div class="item-right docblock-short">Contains the state of the network, plus the way it should behave.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SwarmBuilder.html" title="libp2p::swarm::SwarmBuilder struct">SwarmBuilder</a></div><div class="item-right docblock-short">A <a href="struct.SwarmBuilder.html" title="SwarmBuilder"><code>SwarmBuilder</code></a> provides an API for configuring and constructing a <a href="../struct.Swarm.html" title="Swarm"><code>Swarm</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SwarmPollParameters.html" title="libp2p::swarm::SwarmPollParameters struct">SwarmPollParameters</a></div><div class="item-right docblock-short">Parameters passed to <code>poll()</code>, that the <code>NetworkBehaviour</code> has access to.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AddAddressResult.html" title="libp2p::swarm::AddAddressResult enum">AddAddressResult</a></div><div class="item-right docblock-short">The result of adding an address to an ordered list of
addresses with associated scores.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AddressScore.html" title="libp2p::swarm::AddressScore enum">AddressScore</a></div><div class="item-right docblock-short">The “score” of an address w.r.t. an ordered collection of addresses.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.CloseConnection.html" title="libp2p::swarm::CloseConnection enum">CloseConnection</a></div><div class="item-right docblock-short">The options which connections to close.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ConnectionError.html" title="libp2p::swarm::ConnectionError enum">ConnectionError</a></div><div class="item-right docblock-short">Errors that can occur in the context of an established <code>Connection</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ConnectionHandlerEvent.html" title="libp2p::swarm::ConnectionHandlerEvent enum">ConnectionHandlerEvent</a></div><div class="item-right docblock-short">Event produced by a handler.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ConnectionHandlerUpgrErr.html" title="libp2p::swarm::ConnectionHandlerUpgrErr enum">ConnectionHandlerUpgrErr</a></div><div class="item-right docblock-short">Error that can happen on an outbound substream opening attempt.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DialError.html" title="libp2p::swarm::DialError enum">DialError</a></div><div class="item-right docblock-short">The possible failures of dialing.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.KeepAlive.html" title="libp2p::swarm::KeepAlive enum">KeepAlive</a></div><div class="item-right docblock-short">How long the connection should be kept alive.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.NetworkBehaviourAction.html" title="libp2p::swarm::NetworkBehaviourAction enum">NetworkBehaviourAction</a></div><div class="item-right docblock-short">An action that a <a href="trait.NetworkBehaviour.html" title="NetworkBehaviour"><code>NetworkBehaviour</code></a> can trigger in the <a href="../struct.Swarm.html"><code>Swarm</code></a>
in whose context it is executing.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.NotifyHandler.html" title="libp2p::swarm::NotifyHandler enum">NotifyHandler</a></div><div class="item-right docblock-short">The options w.r.t. which connection handler to notify of an event.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PendingConnectionError.html" title="libp2p::swarm::PendingConnectionError enum">PendingConnectionError</a></div><div class="item-right docblock-short">Errors that can occur in the context of a pending <code>Connection</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SwarmEvent.html" title="libp2p::swarm::SwarmEvent enum">SwarmEvent</a></div><div class="item-right docblock-short">Event generated by the <code>Swarm</code>.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ConnectionHandler.html" title="libp2p::swarm::ConnectionHandler trait">ConnectionHandler</a></div><div class="item-right docblock-short">A handler for a set of protocols used on a connection with a remote.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.IntoConnectionHandler.html" title="libp2p::swarm::IntoConnectionHandler trait">IntoConnectionHandler</a></div><div class="item-right docblock-short">Prototype for a <a href="trait.ConnectionHandler.html" title="ConnectionHandler"><code>ConnectionHandler</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.NetworkBehaviour.html" title="libp2p::swarm::NetworkBehaviour trait">NetworkBehaviour</a></div><div class="item-right docblock-short">A <a href="trait.NetworkBehaviour.html" title="NetworkBehaviour"><code>NetworkBehaviour</code></a> defines the behaviour of the local node on the network.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.NetworkBehaviourEventProcess.html" title="libp2p::swarm::NetworkBehaviourEventProcess trait">NetworkBehaviourEventProcess</a></div><div class="item-right docblock-short">When deriving <a href="trait.NetworkBehaviour.html" title="NetworkBehaviour"><code>NetworkBehaviour</code></a> this trait must by default be implemented for all the
possible event types generated by the inner behaviours.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.PollParameters.html" title="libp2p::swarm::PollParameters trait">PollParameters</a></div><div class="item-right docblock-short">Parameters passed to <code>poll()</code>, that the <code>NetworkBehaviour</code> has access to.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.NegotiatedSubstream.html" title="libp2p::swarm::NegotiatedSubstream type">NegotiatedSubstream</a></div><div class="item-right docblock-short">Substream for which a protocol has been chosen.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.PendingInboundConnectionError.html" title="libp2p::swarm::PendingInboundConnectionError type">PendingInboundConnectionError</a></div><div class="item-right docblock-short">Errors that can occur in the context of a pending incoming <code>Connection</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.PendingOutboundConnectionError.html" title="libp2p::swarm::PendingOutboundConnectionError type">PendingOutboundConnectionError</a></div><div class="item-right docblock-short">Errors that can occur in the context of a pending outgoing <code>Connection</code>.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="libp2p" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.1 (90743e729 2023-01-10)" ></div></body></html>