<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Implementation of the libp2p-specific Kademlia protocol."><meta name="keywords" content="rust, rustlang, rust-lang, kad"><title>libp2p::kad - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../crates.js"></script><script defer src="../../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="icon" href="https://libp2p.io/img/favicon.png"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../libp2p/index.html"><div class="logo-container"><img src="https://libp2p.io/img/logo_small.png" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../libp2p/index.html"><div class="logo-container">
                    <img src="https://libp2p.io/img/logo_small.png" alt="logo"></div></a><h2 class="location"><a href="#">Crate kad</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.50.1</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Crate <a href="../index.html">libp2p</a>::<wbr><a class="mod" href="#">kad</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/libp2p_kad/lib.rs.html#21-99">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Implementation of the libp2p-specific <a href="https://github.com/libp2p/specs/blob/master/kad-dht/README.md">Kademlia</a> protocol.</p>
<h2 id="important-discrepancies"><a href="#important-discrepancies">Important Discrepancies</a></h2>
<ul>
<li><strong>Peer Discovery with Identify</strong> In other libp2p implementations, the
<a href="https://github.com/libp2p/specs/tree/master/identify">Identify</a> protocol might be seen as a core protocol. Rust-libp2p
tries to stay as generic as possible, and does not make this assumption.
This means that the Identify protocol must be manually hooked up to Kademlia through calls
to <a href="struct.Kademlia.html#method.add_address" title="Kademlia::add_address"><code>Kademlia::add_address</code></a>.
If you choose not to use the Identify protocol, and do not provide an alternative peer
discovery mechanism, a Kademlia node will not discover nodes beyond the network’s
<a href="https://docs.libp2p.io/concepts/glossary/#boot-node">boot nodes</a>. Without the Identify protocol,
existing nodes in the kademlia network cannot obtain the listen addresses
of nodes querying them, and thus will not be able to add them to their routing table.</li>
</ul>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="handler/index.html" title="libp2p::kad::handler mod">handler</a></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="kbucket/index.html" title="libp2p::kad::kbucket mod">kbucket</a></div><div class="item-right docblock-short">Implementation of a Kademlia routing table as used by a single peer
participating in a Kademlia DHT.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="protocol/index.html" title="libp2p::kad::protocol mod">protocol</a></div><div class="item-right docblock-short">The Kademlia connection protocol upgrade and associated message types.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="record/index.html" title="libp2p::kad::record mod">record</a></div><div class="item-right docblock-short">Records and record storage abstraction of the libp2p Kademlia DHT.</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AddProviderOk.html" title="libp2p::kad::AddProviderOk struct">AddProviderOk</a></div><div class="item-right docblock-short">The successful result of publishing a provider record.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Addresses.html" title="libp2p::kad::Addresses struct">Addresses</a></div><div class="item-right docblock-short">A non-empty list of (unique) addresses of a peer in the routing table.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BootstrapOk.html" title="libp2p::kad::BootstrapOk struct">BootstrapOk</a></div><div class="item-right docblock-short">The successful result of <a href="struct.Kademlia.html#method.bootstrap" title="Kademlia::bootstrap"><code>Kademlia::bootstrap</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.GetClosestPeersOk.html" title="libp2p::kad::GetClosestPeersOk struct">GetClosestPeersOk</a></div><div class="item-right docblock-short">The successful result of <a href="struct.Kademlia.html#method.get_closest_peers" title="Kademlia::get_closest_peers"><code>Kademlia::get_closest_peers</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Kademlia.html" title="libp2p::kad::Kademlia struct">Kademlia</a></div><div class="item-right docblock-short"><code>Kademlia</code> is a <code>NetworkBehaviour</code> that implements the libp2p
Kademlia protocol.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.KademliaConfig.html" title="libp2p::kad::KademliaConfig struct">KademliaConfig</a></div><div class="item-right docblock-short">The configuration for the <code>Kademlia</code> behaviour.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NoKnownPeers.html" title="libp2p::kad::NoKnownPeers struct">NoKnownPeers</a></div><div class="item-right docblock-short">An operation failed to due no known peers in the routing table.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PeerRecord.html" title="libp2p::kad::PeerRecord struct">PeerRecord</a></div><div class="item-right docblock-short">A record either received by the given peer or retrieved from the local
record store.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ProgressStep.html" title="libp2p::kad::ProgressStep struct">ProgressStep</a></div><div class="item-right docblock-short">Information about progress events.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ProviderRecord.html" title="libp2p::kad::ProviderRecord struct">ProviderRecord</a></div><div class="item-right docblock-short">A record stored in the DHT whose value is the ID of a peer
who can provide the value on-demand.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PutRecordOk.html" title="libp2p::kad::PutRecordOk struct">PutRecordOk</a></div><div class="item-right docblock-short">The successful result of <a href="struct.Kademlia.html#method.put_record" title="Kademlia::put_record"><code>Kademlia::put_record</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QueryId.html" title="libp2p::kad::QueryId struct">QueryId</a></div><div class="item-right docblock-short">Unique identifier for an active query.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QueryMut.html" title="libp2p::kad::QueryMut struct">QueryMut</a></div><div class="item-right docblock-short">A mutable reference to a running query.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QueryRef.html" title="libp2p::kad::QueryRef struct">QueryRef</a></div><div class="item-right docblock-short">An immutable reference to a running query.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.QueryStats.html" title="libp2p::kad::QueryStats struct">QueryStats</a></div><div class="item-right docblock-short">Execution statistics of a query.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Record.html" title="libp2p::kad::Record struct">Record</a></div><div class="item-right docblock-short">A record stored in the DHT.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AddProviderContext.html" title="libp2p::kad::AddProviderContext enum">AddProviderContext</a></div><div class="item-right docblock-short">The context of a <a href="enum.QueryInfo.html#variant.AddProvider" title="QueryInfo::AddProvider"><code>QueryInfo::AddProvider</code></a> query.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AddProviderError.html" title="libp2p::kad::AddProviderError enum">AddProviderError</a></div><div class="item-right docblock-short">The possible errors when publishing a provider record.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AddProviderPhase.html" title="libp2p::kad::AddProviderPhase enum">AddProviderPhase</a></div><div class="item-right docblock-short">The phases of a <a href="enum.QueryInfo.html#variant.AddProvider" title="QueryInfo::AddProvider"><code>QueryInfo::AddProvider</code></a> query.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.BootstrapError.html" title="libp2p::kad::BootstrapError enum">BootstrapError</a></div><div class="item-right docblock-short">The error result of <a href="struct.Kademlia.html#method.bootstrap" title="Kademlia::bootstrap"><code>Kademlia::bootstrap</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.GetClosestPeersError.html" title="libp2p::kad::GetClosestPeersError enum">GetClosestPeersError</a></div><div class="item-right docblock-short">The error result of <a href="struct.Kademlia.html#method.get_closest_peers" title="Kademlia::get_closest_peers"><code>Kademlia::get_closest_peers</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.GetProvidersError.html" title="libp2p::kad::GetProvidersError enum">GetProvidersError</a></div><div class="item-right docblock-short">The error result of <a href="struct.Kademlia.html#method.get_providers" title="Kademlia::get_providers"><code>Kademlia::get_providers</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.GetProvidersOk.html" title="libp2p::kad::GetProvidersOk enum">GetProvidersOk</a></div><div class="item-right docblock-short">The successful result of <a href="struct.Kademlia.html#method.get_providers" title="Kademlia::get_providers"><code>Kademlia::get_providers</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.GetRecordError.html" title="libp2p::kad::GetRecordError enum">GetRecordError</a></div><div class="item-right docblock-short">The error result of <a href="struct.Kademlia.html#method.get_record" title="Kademlia::get_record"><code>Kademlia::get_record</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.GetRecordOk.html" title="libp2p::kad::GetRecordOk enum">GetRecordOk</a></div><div class="item-right docblock-short">The successful result of <a href="struct.Kademlia.html#method.get_record" title="Kademlia::get_record"><code>Kademlia::get_record</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.InboundRequest.html" title="libp2p::kad::InboundRequest enum">InboundRequest</a></div><div class="item-right docblock-short">Information about a received and handled inbound request.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.KadConnectionType.html" title="libp2p::kad::KadConnectionType enum">KadConnectionType</a></div><div class="item-right docblock-short">Status of our connection to a node reported by the Kademlia protocol.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.KademliaBucketInserts.html" title="libp2p::kad::KademliaBucketInserts enum">KademliaBucketInserts</a></div><div class="item-right docblock-short">The configurable strategies for the insertion of peers
and their addresses into the k-buckets of the Kademlia
routing table.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.KademliaCaching.html" title="libp2p::kad::KademliaCaching enum">KademliaCaching</a></div><div class="item-right docblock-short">The configuration for Kademlia “write-back” caching after successful
lookups via <a href="struct.Kademlia.html#method.get_record" title="Kademlia::get_record"><code>Kademlia::get_record</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.KademliaEvent.html" title="libp2p::kad::KademliaEvent enum">KademliaEvent</a></div><div class="item-right docblock-short">The events produced by the <code>Kademlia</code> behaviour.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.KademliaStoreInserts.html" title="libp2p::kad::KademliaStoreInserts enum">KademliaStoreInserts</a></div><div class="item-right docblock-short">The configurable filtering strategies for the acceptance of
incoming records.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PutRecordContext.html" title="libp2p::kad::PutRecordContext enum">PutRecordContext</a></div><div class="item-right docblock-short">The context of a <a href="enum.QueryInfo.html#variant.PutRecord" title="QueryInfo::PutRecord"><code>QueryInfo::PutRecord</code></a> query.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PutRecordError.html" title="libp2p::kad::PutRecordError enum">PutRecordError</a></div><div class="item-right docblock-short">The error result of <a href="struct.Kademlia.html#method.put_record" title="Kademlia::put_record"><code>Kademlia::put_record</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PutRecordPhase.html" title="libp2p::kad::PutRecordPhase enum">PutRecordPhase</a></div><div class="item-right docblock-short">The phases of a <a href="enum.QueryInfo.html#variant.PutRecord" title="QueryInfo::PutRecord"><code>QueryInfo::PutRecord</code></a> query.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.QueryInfo.html" title="libp2p::kad::QueryInfo enum">QueryInfo</a></div><div class="item-right docblock-short">Information about a running query.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.QueryResult.html" title="libp2p::kad::QueryResult enum">QueryResult</a></div><div class="item-right docblock-short">The results of Kademlia queries.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Quorum.html" title="libp2p::kad::Quorum enum">Quorum</a></div><div class="item-right docblock-short">A quorum w.r.t. the configured replication factor specifies the minimum
number of distinct nodes that must be successfully contacted in order
for a query to succeed.</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.ALPHA_VALUE.html" title="libp2p::kad::ALPHA_VALUE constant">ALPHA_VALUE</a></div><div class="item-right docblock-short">The <code>α</code> parameter of the Kademlia specification.</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.K_VALUE.html" title="libp2p::kad::K_VALUE constant">K_VALUE</a></div><div class="item-right docblock-short">The <code>k</code> parameter of the Kademlia specification.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.AddProviderResult.html" title="libp2p::kad::AddProviderResult type">AddProviderResult</a></div><div class="item-right docblock-short">The result of publishing a provider record.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.BootstrapResult.html" title="libp2p::kad::BootstrapResult type">BootstrapResult</a></div><div class="item-right docblock-short">The result of <a href="struct.Kademlia.html#method.bootstrap" title="Kademlia::bootstrap"><code>Kademlia::bootstrap</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.GetClosestPeersResult.html" title="libp2p::kad::GetClosestPeersResult type">GetClosestPeersResult</a></div><div class="item-right docblock-short">The result of <a href="struct.Kademlia.html#method.get_closest_peers" title="Kademlia::get_closest_peers"><code>Kademlia::get_closest_peers</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.GetProvidersResult.html" title="libp2p::kad::GetProvidersResult type">GetProvidersResult</a></div><div class="item-right docblock-short">The result of <a href="struct.Kademlia.html#method.get_providers" title="Kademlia::get_providers"><code>Kademlia::get_providers</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.GetRecordResult.html" title="libp2p::kad::GetRecordResult type">GetRecordResult</a></div><div class="item-right docblock-short">The result of <a href="struct.Kademlia.html#method.get_record" title="Kademlia::get_record"><code>Kademlia::get_record</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.PutRecordResult.html" title="libp2p::kad::PutRecordResult type">PutRecordResult</a></div><div class="item-right docblock-short">The result of <a href="struct.Kademlia.html#method.put_record" title="Kademlia::put_record"><code>Kademlia::put_record</code></a>.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="libp2p" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.1 (d5a82bbd2 2023-02-07)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>