<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Primitives for GRANDPA integration, suitable for WASM compilation."><meta name="keywords" content="rust, rustlang, rust-lang, sp_consensus_grandpa"><title>sp_consensus_grandpa - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../sp_consensus_grandpa/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../sp_consensus_grandpa/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate sp_consensus_grandpa</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 4.0.0-dev</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Crate <a class="mod" href="#">sp_consensus_grandpa</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/sp_consensus_grandpa/lib.rs.html#18-601">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Primitives for GRANDPA integration, suitable for WASM compilation.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.EquivocationProof.html" title="sp_consensus_grandpa::EquivocationProof struct">EquivocationProof</a></div><div class="item-right docblock-short">Proof of voter misbehavior on a given set id. Misbehavior/equivocation in
GRANDPA happens when a voter votes on the same round (either at prevote or
precommit stage) for different blocks. Proving is achieved by collecting the
signed messages of conflicting votes.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.GrandpaJustification.html" title="sp_consensus_grandpa::GrandpaJustification struct">GrandpaJustification</a></div><div class="item-right docblock-short">A GRANDPA justification for block finality, it includes a commit message and
an ancestry proof including all headers routing all precommit target blocks
to the commit target block. Due to the current voting strategy the precommit
targets should be the same as the commit target, since honest voters don’t
vote past authority set change blocks.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.OpaqueKeyOwnershipProof.html" title="sp_consensus_grandpa::OpaqueKeyOwnershipProof struct">OpaqueKeyOwnershipProof</a></div><div class="item-right docblock-short">An opaque type used to represent the key ownership proof at the runtime API
boundary. The inner value is an encoded representation of the actual key
ownership proof which will be parameterized when defining the runtime. At
the runtime API boundary this type is unknown and as such we keep this
opaque representation, implementors of the runtime API will have to make
sure that all usages of <code>OpaqueKeyOwnershipProof</code> refer to the same type.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ScheduledChange.html" title="sp_consensus_grandpa::ScheduledChange struct">ScheduledChange</a></div><div class="item-right docblock-short">A scheduled change of authority set.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VersionedAuthorityList.html" title="sp_consensus_grandpa::VersionedAuthorityList struct">VersionedAuthorityList</a></div><div class="item-right docblock-short">An AuthorityList that is encoded with a version specifier. The encoding version is updated any
time the AuthorityList type changes. This ensures that encodings of different versions of an
AuthorityList are differentiable. Attempting to decode an authority list with an unknown
version will fail.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ConsensusLog.html" title="sp_consensus_grandpa::ConsensusLog enum">ConsensusLog</a></div><div class="item-right docblock-short">An consensus log item for GRANDPA.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Equivocation.html" title="sp_consensus_grandpa::Equivocation enum">Equivocation</a></div><div class="item-right docblock-short">Wrapper object for GRANDPA equivocation proofs, useful for unifying prevote
and precommit equivocations under a common type.</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.AUTHORITIES_CALL.html" title="sp_consensus_grandpa::AUTHORITIES_CALL constant">AUTHORITIES_CALL</a></div><div class="item-right docblock-short">WASM function call to get current GRANDPA authorities.</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.CLIENT_LOG_TARGET.html" title="sp_consensus_grandpa::CLIENT_LOG_TARGET constant">CLIENT_LOG_TARGET</a></div><div class="item-right docblock-short">The log target to be used by client code.</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.GRANDPA_AUTHORITIES_KEY.html" title="sp_consensus_grandpa::GRANDPA_AUTHORITIES_KEY constant">GRANDPA_AUTHORITIES_KEY</a></div><div class="item-right docblock-short">The storage key for the current set of weighted Grandpa authorities.
The value stored is an encoded VersionedAuthorityList.</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.GRANDPA_ENGINE_ID.html" title="sp_consensus_grandpa::GRANDPA_ENGINE_ID constant">GRANDPA_ENGINE_ID</a></div><div class="item-right docblock-short">The <code>ConsensusEngineId</code> of GRANDPA.</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.KEY_TYPE.html" title="sp_consensus_grandpa::KEY_TYPE constant">KEY_TYPE</a></div><div class="item-right docblock-short">Key type for GRANDPA module.</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.PENDING_CHANGE_CALL.html" title="sp_consensus_grandpa::PENDING_CHANGE_CALL constant">PENDING_CHANGE_CALL</a></div><div class="item-right docblock-short">WASM function call to check for pending changes.</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.RUNTIME_LOG_TARGET.html" title="sp_consensus_grandpa::RUNTIME_LOG_TARGET constant">RUNTIME_LOG_TARGET</a></div><div class="item-right docblock-short">The log target to be used by runtime code.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.GrandpaApi.html" title="sp_consensus_grandpa::GrandpaApi trait">GrandpaApi</a></div><div class="item-right docblock-short">APIs for integrating the GRANDPA finality gadget into runtimes.
This should be implemented on the runtime side.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.check_equivocation_proof.html" title="sp_consensus_grandpa::check_equivocation_proof fn">check_equivocation_proof</a></div><div class="item-right docblock-short">Verifies the equivocation proof by making sure that both votes target
different blocks and that its signatures are valid.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.check_message_signature.html" title="sp_consensus_grandpa::check_message_signature fn">check_message_signature</a></div><div class="item-right docblock-short">Check a message signature by encoding the message as a localized payload and
verifying the provided signature using the expected authority id.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.check_message_signature_with_buffer.html" title="sp_consensus_grandpa::check_message_signature_with_buffer fn">check_message_signature_with_buffer</a></div><div class="item-right docblock-short">Check a message signature by encoding the message as a localized payload and
verifying the provided signature using the expected authority id.
The encoding necessary to verify the signature will be done using the given
buffer, the original content of the buffer will be cleared.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.localized_payload.html" title="sp_consensus_grandpa::localized_payload fn">localized_payload</a></div><div class="item-right docblock-short">Encode round message localized to a given round and set id.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.localized_payload_with_buffer.html" title="sp_consensus_grandpa::localized_payload_with_buffer fn">localized_payload_with_buffer</a></div><div class="item-right docblock-short">Encode round message localized to a given round and set id using the given
buffer. The given buffer will be cleared and the resulting encoded payload
will always be written to the start of the buffer.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.sign_message.html" title="sp_consensus_grandpa::sign_message fn">sign_message</a></div><div class="item-right docblock-short">Localizes the message to the given set and round and signs the payload.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.AuthorityId.html" title="sp_consensus_grandpa::AuthorityId type">AuthorityId</a></div><div class="item-right docblock-short">Identity of a Grandpa authority.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.AuthorityIndex.html" title="sp_consensus_grandpa::AuthorityIndex type">AuthorityIndex</a></div><div class="item-right docblock-short">The index of an authority.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.AuthorityList.html" title="sp_consensus_grandpa::AuthorityList type">AuthorityList</a></div><div class="item-right docblock-short">A list of Grandpa authorities with associated weights.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.AuthorityPair.html" title="sp_consensus_grandpa::AuthorityPair type">AuthorityPair</a></div><div class="item-right docblock-short">The grandpa crypto scheme defined via the keypair type.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.AuthoritySignature.html" title="sp_consensus_grandpa::AuthoritySignature type">AuthoritySignature</a></div><div class="item-right docblock-short">Signature for a Grandpa authority.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.AuthorityWeight.html" title="sp_consensus_grandpa::AuthorityWeight type">AuthorityWeight</a></div><div class="item-right docblock-short">The weight of an authority.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.CatchUp.html" title="sp_consensus_grandpa::CatchUp type">CatchUp</a></div><div class="item-right docblock-short">A catch up message for this chain’s block type.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Commit.html" title="sp_consensus_grandpa::Commit type">Commit</a></div><div class="item-right docblock-short">A commit message for this chain’s block type.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.CompactCommit.html" title="sp_consensus_grandpa::CompactCommit type">CompactCommit</a></div><div class="item-right docblock-short">A compact commit message for this chain’s block type.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Message.html" title="sp_consensus_grandpa::Message type">Message</a></div><div class="item-right docblock-short">A GRANDPA message for a substrate chain.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Precommit.html" title="sp_consensus_grandpa::Precommit type">Precommit</a></div><div class="item-right docblock-short">A precommit message for this chain’s block type.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Prevote.html" title="sp_consensus_grandpa::Prevote type">Prevote</a></div><div class="item-right docblock-short">A prevote message for this chain’s block type.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.PrimaryPropose.html" title="sp_consensus_grandpa::PrimaryPropose type">PrimaryPropose</a></div><div class="item-right docblock-short">A primary propose message for this chain’s block type.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.RoundNumber.html" title="sp_consensus_grandpa::RoundNumber type">RoundNumber</a></div><div class="item-right docblock-short">The round indicator.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.SetId.html" title="sp_consensus_grandpa::SetId type">SetId</a></div><div class="item-right docblock-short">The monotonic identifier of a GRANDPA set of authorities.</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.SignedMessage.html" title="sp_consensus_grandpa::SignedMessage type">SignedMessage</a></div><div class="item-right docblock-short">A signed message.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="sp_consensus_grandpa" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.1 (d5a82bbd2 2023-02-07)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>