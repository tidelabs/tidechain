<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A Noise protocol over DH keys of type `C`. The choice of `C` determines the protocol parameters for each handshake pattern."><meta name="keywords" content="rust, rustlang, rust-lang, Protocol"><title>Protocol in libp2p_noise - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-6827029ac823cab7.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-ebce58d0a40c3431.css"><link rel="stylesheet" disabled href="../static.files/dark-f23faae4a2daf9a6.css"><link rel="stylesheet" disabled href="../static.files/ayu-8af5e100b21cd173.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-c55e1eb52e1886b4.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../libp2p_noise/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../libp2p_noise/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Protocol</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.params_ik">params_ik</a></li><li><a href="#tymethod.params_ix">params_ix</a></li><li><a href="#tymethod.params_xx">params_xx</a></li><li><a href="#tymethod.public_from_bytes">public_from_bytes</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.linked">linked</a></li><li><a href="#method.sign">sign</a></li><li><a href="#method.verify">verify</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In libp2p_noise</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Trait <a href="index.html">libp2p_noise</a>::<wbr><a class="trait" href="#">Protocol</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/libp2p_noise/protocol.rs.html#72-124">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust trait"><code>pub trait Protocol&lt;C&gt; {
    fn <a href="#tymethod.params_ik" class="fn">params_ik</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p_noise::ProtocolParams">ProtocolParams</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.params_ix" class="fn">params_ix</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p_noise::ProtocolParams">ProtocolParams</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.params_xx" class="fn">params_xx</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p_noise::ProtocolParams">ProtocolParams</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.public_from_bytes" class="fn">public_from_bytes</a>(s: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.67.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.PublicKey.html" title="struct libp2p_noise::PublicKey">PublicKey</a>&lt;C&gt;, <a class="enum" href="enum.NoiseError.html" title="enum libp2p_noise::NoiseError">NoiseError</a>&gt;;

    fn <a href="#method.linked" class="fn">linked</a>(id_pk: &amp;<a class="enum" href="../libp2p_core/identity/enum.PublicKey.html" title="enum libp2p_core::identity::PublicKey">PublicKey</a>, dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p_noise::PublicKey">PublicKey</a>&lt;C&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.verify" class="fn">verify</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id_pk: &amp;<a class="enum" href="../libp2p_core/identity/enum.PublicKey.html" title="enum libp2p_core::identity::PublicKey">PublicKey</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p_noise::PublicKey">PublicKey</a>&lt;C&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sig: &amp;<a class="enum" href="https://doc.rust-lang.org/1.67.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.67.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.bool.html">bool</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/1.67.1/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>]&gt;</span>,
    { ... }
<span class="item-spacer"></span>    fn <a href="#method.sign" class="fn">sign</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id_keys: &amp;<a class="enum" href="../libp2p_core/identity/enum.Keypair.html" title="enum libp2p_core::identity::Keypair">Keypair</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p_noise::PublicKey">PublicKey</a>&lt;C&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.67.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.67.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>&gt;, <a class="enum" href="enum.NoiseError.html" title="enum libp2p_noise::NoiseError">NoiseError</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/1.67.1/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>]&gt;</span>,
    { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A Noise protocol over DH keys of type <code>C</code>. The choice of <code>C</code> determines the
protocol parameters for each handshake pattern.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.params_ik" class="method has-srclink"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#74">source</a><h4 class="code-header">fn <a href="#tymethod.params_ik" class="fn">params_ik</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p_noise::ProtocolParams">ProtocolParams</a></h4></section></summary><div class="docblock"><p>The protocol parameters for the IK handshake pattern.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.params_ix" class="method has-srclink"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#76">source</a><h4 class="code-header">fn <a href="#tymethod.params_ix" class="fn">params_ix</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p_noise::ProtocolParams">ProtocolParams</a></h4></section></summary><div class="docblock"><p>The protocol parameters for the IX handshake pattern.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.params_xx" class="method has-srclink"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#78">source</a><h4 class="code-header">fn <a href="#tymethod.params_xx" class="fn">params_xx</a>() -&gt; <a class="struct" href="struct.ProtocolParams.html" title="struct libp2p_noise::ProtocolParams">ProtocolParams</a></h4></section></summary><div class="docblock"><p>The protocol parameters for the XX handshake pattern.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.public_from_bytes" class="method has-srclink"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#81">source</a><h4 class="code-header">fn <a href="#tymethod.public_from_bytes" class="fn">public_from_bytes</a>(s: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.67.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.PublicKey.html" title="struct libp2p_noise::PublicKey">PublicKey</a>&lt;C&gt;, <a class="enum" href="enum.NoiseError.html" title="enum libp2p_noise::NoiseError">NoiseError</a>&gt;</h4></section></summary><div class="docblock"><p>Construct a DH public key from a byte slice.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.linked" class="method has-srclink"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#91-93">source</a><h4 class="code-header">fn <a href="#method.linked" class="fn">linked</a>(id_pk: &amp;<a class="enum" href="../libp2p_core/identity/enum.PublicKey.html" title="enum libp2p_core::identity::PublicKey">PublicKey</a>, dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p_noise::PublicKey">PublicKey</a>&lt;C&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.bool.html">bool</a></h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">👎</span><span>Deprecated</span></div></span><div class="docblock"><p>Determines whether the authenticity of the given DH static public key
and public identity key is linked, i.e. that proof of ownership of a
secret key for the static DH public key implies that the key is
authentic w.r.t. the given public identity key.</p>
<p>The trivial case is when the keys are byte for byte identical.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.verify" class="method has-srclink"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#108-116">source</a><h4 class="code-header">fn <a href="#method.verify" class="fn">verify</a>(id_pk: &amp;<a class="enum" href="../libp2p_core/identity/enum.PublicKey.html" title="enum libp2p_core::identity::PublicKey">PublicKey</a>, dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p_noise::PublicKey">PublicKey</a>&lt;C&gt;, sig: &amp;<a class="enum" href="https://doc.rust-lang.org/1.67.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.67.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>&gt;&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.bool.html">bool</a><span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/1.67.1/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>]&gt;,</span></h4></section></summary><div class="docblock"><p>Verifies that a given static DH public key is authentic w.r.t. a
given public identity key in the context of an optional signature.</p>
<p>The given static DH public key is assumed to already be authentic
in the sense that possession of a corresponding secret key has been
established, as is the case at the end of a Noise handshake involving
static DH keys.</p>
<p>If the public keys are <a href="trait.Protocol.html#method.linked"><code>linked</code></a>, verification succeeds
without a signature, otherwise a signature over the static DH public key
must be given and is verified with the public identity key, establishing
the authenticity of the static DH public key w.r.t. the public identity key.</p>
</div></details><section id="method.sign" class="method has-srclink"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#118-123">source</a><h4 class="code-header">fn <a href="#method.sign" class="fn">sign</a>(id_keys: &amp;<a class="enum" href="../libp2p_core/identity/enum.Keypair.html" title="enum libp2p_core::identity::Keypair">Keypair</a>, dh_pk: &amp;<a class="struct" href="struct.PublicKey.html" title="struct libp2p_noise::PublicKey">PublicKey</a>&lt;C&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.67.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.67.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>&gt;, <a class="enum" href="enum.NoiseError.html" title="enum libp2p_noise::NoiseError">NoiseError</a>&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/1.67.1/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.67.1/std/primitive.u8.html">u8</a>]&gt;,</span></h4></section></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-Protocol%3CX25519%3E-for-X25519" class="impl has-srclink"><a class="srclink rightside" href="../src/libp2p_noise/protocol/x25519.rs.html#105-135">source</a><a href="#impl-Protocol%3CX25519%3E-for-X25519" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Protocol.html" title="trait libp2p_noise::Protocol">Protocol</a>&lt;<a class="struct" href="struct.X25519.html" title="struct libp2p_noise::X25519">X25519</a>&gt; for <a class="struct" href="struct.X25519.html" title="struct libp2p_noise::X25519">X25519</a></h3></section><div class="docblock"><p>Legacy Noise protocol for X25519.</p>
<p><strong>Note</strong>: This <code>Protocol</code> provides no configuration that
is interoperable  with other libp2p implementations.
See <a href="struct.X25519Spec.html" title="crate::X25519Spec"><code>crate::X25519Spec</code></a> instead.</p>
</div><section id="impl-Protocol%3CX25519Spec%3E-for-X25519Spec" class="impl has-srclink"><a class="srclink rightside" href="../src/libp2p_noise/protocol/x25519_spec.rs.html#111-149">source</a><a href="#impl-Protocol%3CX25519Spec%3E-for-X25519Spec" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Protocol.html" title="trait libp2p_noise::Protocol">Protocol</a>&lt;<a class="struct" href="struct.X25519Spec.html" title="struct libp2p_noise::X25519Spec">X25519Spec</a>&gt; for <a class="struct" href="struct.X25519Spec.html" title="struct libp2p_noise::X25519Spec">X25519Spec</a></h3></section><div class="docblock"><p>Noise protocols for X25519 with libp2p-spec compliant signatures.</p>
<p><strong>Note</strong>: Only the XX handshake pattern is currently guaranteed to be
interoperable with other libp2p implementations.</p>
</div></div><script src="../implementors/libp2p_noise/protocol/trait.Protocol.js" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="libp2p_noise" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.1 (d5a82bbd2 2023-02-07)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-af96d9e2fc13e081.css" ></div></body></html>