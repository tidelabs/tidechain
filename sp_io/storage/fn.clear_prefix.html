<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Clear the storage of each key-value pair where the key starts with the given `prefix`."><meta name="keywords" content="rust, rustlang, rust-lang, clear_prefix"><title>clear_prefix in sp_io::storage - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../sp_io/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../sp_io/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><div class="sidebar-elems"><h2><a href="index.html">In sp_io::storage</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Function <a href="../index.html">sp_io</a>::<wbr><a href="index.html">storage</a>::<wbr><a class="fn" href="#">clear_prefix</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/sp_io/lib.rs.html#167">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="item-decl"><pre class="rust fn"><code>pub fn clear_prefix(prefix: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.u8.html">u8</a>], limit: <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.u32.html">u32</a>&gt;) -&gt; <a class="enum" href="../enum.KillStorageResult.html" title="enum sp_io::KillStorageResult">KillStorageResult</a></code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Clear the storage of each key-value pair where the key starts with the given <code>prefix</code>.</p>
<h2 id="limit"><a href="#limit">Limit</a></h2>
<p>Deletes all keys from the overlay and up to <code>limit</code> keys from the backend if
it is set to <code>Some</code>. No limit is applied when <code>limit</code> is set to <code>None</code>.</p>
<p>The limit can be used to partially delete a prefix storage in case it is too large
to delete in one go (block).</p>
<p>Returns <a href="../enum.KillStorageResult.html" title="KillStorageResult"><code>KillStorageResult</code></a> to inform about the result.</p>
<h2 id="note"><a href="#note">Note</a></h2>
<p>Please note that keys that are residing in the overlay for that prefix when
issuing this call are all deleted without counting towards the <code>limit</code>. Only keys
written during the current block are part of the overlay. Deleting with a <code>limit</code>
mostly makes sense with an empty overlay for that prefix.</p>
<p>Calling this function multiple times per block for the same <code>prefix</code> does
not make much sense because it is not cumulative when called inside the same block.
The deletion would always start from <code>prefix</code> resulting in the same keys being deleted
every time this function is called with the exact same arguments per block. This happens
because the keys in the overlay are not taken into account when deleting keys in the
backend.</p>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="sp_io" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.1 (90743e729 2023-01-10)" ></div></body></html>